{"version":3,"file":"spatialWebAudio.js","sourceRoot":"","sources":["../../../../../../dev/core/src/AudioV2/webAudio/subProperties/spatialWebAudio.ts"],"names":[],"mappings":"AACA,OAAO,EAAE,aAAa,EAAE,MAAM,gDAAgD,CAAC;AAE/E,gBAAgB;AAChB,MAAM,OAAO,gBAAiB,SAAQ,aAAa;IAG/C,gBAAgB;IAChB,YAAmB,QAAgC,EAAE,UAAmB;QACpE,KAAK,CAAC,QAAQ,CAAC,CAAC;QAJZ,gBAAW,GAAG,KAAK,CAAC;QAMxB,IAAI,CAAC,UAAU,EAAE,CAAC;YACd,OAAO;QACX,CAAC;QAED,IAAI,CAAC,WAAW,GAAG,IAAI,CAAC;QAExB,MAAM,MAAM,GAAG,GAAG,EAAE;YAChB,IAAI,CAAC,IAAI,CAAC,WAAW,EAAE,CAAC;gBACpB,OAAO;YACX,CAAC;YAED,IAAI,CAAC,MAAM,EAAE,CAAC;YACd,qBAAqB,CAAC,MAAM,CAAC,CAAC;QAClC,CAAC,CAAC;QAEF,qBAAqB,CAAC,MAAM,CAAC,CAAC;IAClC,CAAC;IAED,gBAAgB;IACT,OAAO;QACV,IAAI,CAAC,WAAW,GAAG,KAAK,CAAC;IAC7B,CAAC;CACJ","sourcesContent":["import type { _AbstractAudioSubGraph } from \"../../abstractAudio/subNodes/abstractAudioSubGraph\";\nimport { _SpatialAudio } from \"../../abstractAudio/subProperties/spatialAudio\";\n\n/** @internal */\nexport class _SpatialWebAudio extends _SpatialAudio {\n    private _autoUpdate = false;\n\n    /** @internal */\n    public constructor(subGraph: _AbstractAudioSubGraph, autoUpdate: boolean) {\n        super(subGraph);\n\n        if (!autoUpdate) {\n            return;\n        }\n\n        this._autoUpdate = true;\n\n        const update = () => {\n            if (!this._autoUpdate) {\n                return;\n            }\n\n            this.update();\n            requestAnimationFrame(update);\n        };\n\n        requestAnimationFrame(update);\n    }\n\n    /** @internal */\n    public dispose(): void {\n        this._autoUpdate = false;\n    }\n}\n"]}