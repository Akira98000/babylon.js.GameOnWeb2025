import {
  FlowGraphBlock,
  init_flowGraphBlock
} from "./chunk-WRAY2HKA.js";
import {
  __esm
} from "./chunk-DZZM6G22.js";

// node_modules/@babylonjs/core/FlowGraph/Blocks/Data/flowGraphCachedOperationBlock.js
var cacheName, cacheExecIdName, FlowGraphCachedOperationBlock;
var init_flowGraphCachedOperationBlock = __esm({
  "node_modules/@babylonjs/core/FlowGraph/Blocks/Data/flowGraphCachedOperationBlock.js"() {
    init_flowGraphBlock();
    cacheName = "cachedOperationValue";
    cacheExecIdName = "cachedExecutionId";
    FlowGraphCachedOperationBlock = class extends FlowGraphBlock {
      constructor(outputRichType, config) {
        super(config);
        this.value = this.registerDataOutput("value", outputRichType);
      }
      _updateOutputs(context) {
        const cachedExecutionId = context._getExecutionVariable(this, cacheExecIdName, -1);
        const cachedValue = context._getExecutionVariable(this, cacheName, null);
        if (cachedValue !== void 0 && cachedValue !== null && cachedExecutionId === context.executionId) {
          this.value.setValue(cachedValue, context);
        } else {
          const calculatedValue = this._doOperation(context);
          context._setExecutionVariable(this, cacheName, calculatedValue);
          context._setExecutionVariable(this, cacheExecIdName, context.executionId);
          this.value.setValue(calculatedValue, context);
        }
      }
    };
  }
});

export {
  FlowGraphCachedOperationBlock,
  init_flowGraphCachedOperationBlock
};
//# sourceMappingURL=chunk-LWBKSBEB.js.map
